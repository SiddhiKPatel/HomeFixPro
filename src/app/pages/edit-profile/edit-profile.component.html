<app-header></app-header>

<div class="editProfileBox pt-120 pb-120">
    <div class="container">
        <div class="row mt--30">
            <div class="col-lg-4 mt-30 ">
                <div class="list-group bg-white position-sticky"> <a href="#basic_info"
                        class="list-group-item active list-group-item-action">Basic Information</a> <a href="#about"
                        class="list-group-item list-group-item-action">About you</a>
                    <a href="#skill" class="list-group-item list-group-item-action"
                        [hidden]="roleId && roleId != 2">Skill</a>
                    <a href="#social" class="list-group-item list-group-item-action">Social Network</a>
                </div>
            </div>
            <div class="col-lg-8">
                <!-- first section -->
                <div class="card mt-30" id="basic_info">
                    <div class="card-body">
                        <p class=" fs-5 " style="text-transform: uppercase;">basic information</p>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="rounded-2">
                                    <div class="align-middle text-center p-3 create-solu upload-btn-wrapper">
                                        <div> <img width="80"
                                                [src]="profileData && profileData.avatar_url ? profileData.avatar_url : ''"
                                                onerror="this.src='./assets/images/Group2094.png'" alt=""> </div>
                                        <a style="color: #00A3FF;" (click)="openPopup()"><img
                                                src='./assets/images/iconuploadicon.png' class="img-fluid mx-1"
                                                width="25" height="25" alt="">Profile
                                            Image</a>
                                        <!-- <input type="file" name="file" (change)="onFileChange($event)" id=""> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8 border-box ">
                                <form [formGroup]="profileSecOne">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group position-relative ">
                                                <div class="icon"> <i class="icofont-user-alt-7"></i> </div>
                                                <input type="text" placeholder="First name" class="form-control"
                                                    formControlName="fname"
                                                    [ngClass]="{ 'is-invalid': submitted && f.fname.errors }"
                                                    id="exampleInputEmail1">
                                                <div *ngIf="submitted && f.fname.errors" class="invalid-feedback">
                                                    <div *ngIf="f.fname.errors.required">First name is required</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group position-relative ">
                                                <div class="icon"> <i class="icofont-user-alt-7"></i> </div>
                                                <input type="text" placeholder="Last name" formControlName="lname"
                                                    [ngClass]="{ 'is-invalid': submitted && f.lname.errors }"
                                                    class="form-control" id="exampleInputEmail1"
                                                    aria-describedby="emailHelp">
                                                <div *ngIf="submitted && f.lname.errors" class="invalid-feedback">
                                                    <div *ngIf="f.lname.errors.required">Last name is required</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group position-relative ">
                                            <div class="icon"> <i class="icofont-people"></i> </div>
                                            <input type="text" formControlName="occupation" placeholder="Occupation"
                                                class="form-control" id="exampleInputEmail1"
                                                aria-describedby="emailHelp">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <select aria-placeholder="Country" class="form-select"
                                                aria-label="Default select example" formControlName="country_id"
                                                [ngClass]="{ 'is-invalid': submitted && f.country_id.errors }">
                                                <option selected value="">Country</option>
                                                <option [value]="c.id" *ngFor="let c of countries">{{c.name}}</option>
                                            </select>
                                            <div *ngIf="submitted && f.country_id.errors" class="invalid-feedback">
                                                <div *ngIf="f.country_id.errors.required">Country is required</div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <!-- <select aria-placeholder="City" class="form-select" formControlName="city"
                                                [ngClass]="{ 'is-invalid': submitted && f.city.errors }"
                                                aria-label="Default select example">
                                                <option selected value="">City</option>
                                                <option value="1">One</option>
                                                <option value="2">Two</option>
                                                <option value="3">Three</option>
                                            </select> -->
                                            <div class="form-group position-relative ">
                                                <input type="text" placeholder="City" formControlName="city"
                                                    [ngClass]="{ 'is-invalid': submitted && f.city.errors }"
                                                    class="form-control" id="exampleInputCity"
                                                    aria-describedby="cityHelp">
                                                <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
                                                    <div *ngIf="f.city.errors.required">City is required</div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group position-relative ">
                                                <input type="text" placeholder="Zip code" class="form-control"
                                                    formControlName="zip_code" minlength="6" maxlength="6"
                                                    [ngClass]="{ 'is-invalid': submitted && f.zip_code.errors }"
                                                    id="exampleInputEmail1" aria-describedby="emailHelp">
                                                <div *ngIf="submitted && f.zip_code.errors" class="invalid-feedback">
                                                    <div *ngIf="f.zip_code.errors.required">Zip code is required</div>
                                                    <div *ngIf="f.zip_code.errors.pattern">6 digit Zip code is required
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- second section -->
                <div class="card mt-30" id="about">
                    <form [formGroup]="profileSecTwo">
                        <div class="card-body">
                            <textarea class="form-control rounded-0" placeholder="Description"
                                formControlName="description" id="exampleFormControlTextarea1" rows="5"></textarea>
                        </div>
                    </form>
                </div>
                <!-- third section -->
                <div class="card mt-30" id="skill" *ngIf="roleId && roleId == 2">
                    <div class="card-body">
                        <ng-select [items]="skills" bindLabel="name" placeholder="Select Category" appendTo="body"
                            [multiple]="true" [(ngModel)]="selectedSkills">
                        </ng-select>
                        <!-- <ng-multiselect-dropdown [settings]="dropdownSettings" [data]="dropdownList">
                        </ng-multiselect-dropdown> -->
                        <!-- <span class="bscill">Toilet Repair</span> <span class="bscill ">Sewer
                            Repair</span> <span class="bscill">Plumber</span>
                        <button class="d-inline-block btn mx-3"
                            style="color:#00A3FF; font-size:14px; font-weight: 500;"><i class="bi bi-pencil-square"></i>
                            Add new</button> -->
                    </div>
                </div>
                <!-- social link -->
                <div class="card mt-30" id="social">
                    <div class="card-body">
                        <form [formGroup]="profileSecThree">
                            <div class="row">
                                <div class="col-md-6"> <a href="javascript:void(0);"><img
                                            src="./assets/images/Group2110.png" alt=""> <span
                                            class="ps-3">Facebook</span> </a> </div>
                                <div class="col-md-6 text-end">
                                    <!-- <span
                                    class="badge rounded-pill bg-light fs-6 text-dark">@tory <i
                                        class="bi bi-x"></i></span>  -->

                                    <input type="text" formControlName="facebook_url" class="putbtn"
                                        placeholder="Put URL"
                                        [ngClass]="{ 'is-invalid': submitted && f1.facebook_url.errors }"
                                        id="exampleInputEmail1" aria-describedby="emailHelp">
                                    <div *ngIf="submitted && f1.facebook_url.errors" class="invalid-feedback">
                                        <div *ngIf="f1.facebook_url.errors.pattern">URL format is wrong
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6"> <a href="javascript:void(0);"><img
                                            src="./assets/images/Group2115.png" alt=""> <span
                                            class="ps-3">Instagram</span> </a> </div>
                                <div class="col-md-6 text-end">
                                    <!-- <span class="badge rounded-pill bg-light fs-6 text-dark">@toryw42 <i class="bi bi-x"></i></span> -->
                                    <input type="text" class="putbtn" formControlName="instagram_url"
                                        placeholder="Put URL"
                                        [ngClass]="{ 'is-invalid': submitted && f1.facebook_url.errors }"
                                        id="exampleInputEmail1" aria-describedby="emailHelp">
                                    <div *ngIf="submitted && f1.instagram_url.errors" class="invalid-feedback">
                                        <div *ngIf="f1.instagram_url.errors.pattern">URL format is wrong
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6"> <a href="javascript:void(0);"><img
                                            src="./assets/images/Group2111.png" alt=""> <span
                                            class="ps-3">Twitter</span></a> </div>
                                <div class="col-md-6 text-end">
                                    <!-- <span class="btn btn-sm px-4 rounded-pill fs-6 text-white"
                                    style="background-color: javascript:void(0);0A3FF;">Link </span>  -->
                                    <input type="text" class="putbtn" formControlName="twitter_url"
                                        placeholder="Put URL"
                                        [ngClass]="{ 'is-invalid': submitted && f1.facebook_url.errors }"
                                        id="exampleInputEmail1" aria-describedby="emailHelp">
                                    <div *ngIf="submitted && f1.twitter_url.errors" class="invalid-feedback">
                                        <div *ngIf="f1.twitter_url.errors.pattern">URL format is wrong</div>
                                    </div>

                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6"> <a href="javascript:void(0);"><img
                                            src="./assets/images/Group2113.png" alt="">
                                        <span class="ps-3">linkedin</span> </a>

                                </div>
                                <div class="col-md-6 text-end">
                                    <input type="text" class="putbtn" formControlName="linkedin_url"
                                        placeholder="Put URL"
                                        [ngClass]="{ 'is-invalid': submitted && f1.facebook_url.errors }"
                                        id="exampleInputEmail1" aria-describedby="emailHelp">
                                    <div *ngIf="submitted && f1.linkedin_url.errors" class="invalid-feedback">
                                        <div *ngIf="f1.linkedin_url.errors.pattern">URL format is wrong</div>
                                    </div>
                                    <!-- <button class="btn btn-link text-decoration-none">Submit</button> -->
                                    <!-- <i class="bi bi-x"></i> -->
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-12 text-end mt-30">
                    <button class="button1" (click)="updateProfile()">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Profile Image upload</h4>
            </div>
            <div class="modal-body">
                <input type="file" name="file" (change)="onFileChange($event)" id="">
                <button (click)="openCamera()">
                    Camera
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="closePopup()">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>
<app-camera (getPicture)="handleImage($event)"></app-camera>

<div class="webcam-image" *ngIf="webcamImage">
  <img [src]="webcamImage.imageAsDataUrl" />
</div>
<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>

<app-footer></app-footer>